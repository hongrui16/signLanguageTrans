#!/bin/bash


#SBATCH --partition=normal                    
#SBATCH --job-name=cleanup                   
#SBATCH --output=/home/rhong5/research_pro/hand_modeling_pro/signLanguageTrans/dataloader/dataset/youtubeASL/slrum_scripts/zlog/%x-%N-%j.out  
#SBATCH --error=/home/rhong5/research_pro/hand_modeling_pro/signLanguageTrans/dataloader/dataset/youtubeASL/slrum_scripts/zlog/%x-%N-%j.err   
#SBATCH --nodes=1
#SBATCH --ntasks=1                 # éœ€è¦ 4 ä¸ªç‹¬ç«‹ä»»åŠ¡
#SBATCH --mem-per-cpu=10gb          # æ¯ä¸ª CPU æ ¸åˆ†é… 20GB å†…å­˜
#SBATCH --export=ALL 
#SBATCH --time=4-24:00:00            
#SBATCH --cpus-per-task=1            # æ¯ä¸ªä»»åŠ¡ä½¿ç”¨ 1 ä¸ª CPU æ ¸



# cd /projects/kosecka/hongrui/dataset/youtubeASL


# rsync -av --partial --append-verify /scratch/rhong5/dataset/youtubeASL_anno/ ./youtubeASL_anno/


TARGET_DIR="/scratch/rhong5/dataset/youtubeASL_frames"

echo "ğŸš€ Starting batch deletion under: $TARGET_DIR"

# æ¯æ¬¡æ‰¾å‡ºä¸€æ‰¹æ–‡ä»¶åˆ é™¤ï¼Œé¿å…å¡æ­»
find "$TARGET_DIR" -type f -print0 | xargs -0 -n 1000 -P 8 rm -f
if [ $? -ne 0 ]; then
    echo "âŒ Error occurred during batch deletion."
    exit 1
else
    echo "âœ… Batch deletion completed successfully."
fi
